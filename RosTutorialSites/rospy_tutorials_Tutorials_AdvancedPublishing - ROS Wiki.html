<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0064)http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing -->
<html class="gr__wiki_ros_org"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="google-site-verification" content="CjkdY6BqKWAVmQ78_iSq6J7ZZ9AoL7-CjFVBYGg9FU4">
<link rel="shortcut icon" href="http://wiki.ros.org/custom/favicon.ico" type="image/ico">
<link rel="stylesheet" href="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/bootstrap.min.css">
<script type="text/javascript" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/4c8610d177"></script><script src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/nr-1099.min.js"></script><script type="text/javascript" async="" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/ga.js"></script><script src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/jquery-1.11.0.min.js"></script>
<script src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/bootstrap.min.js"></script>
<script type="text/javascript" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/sorttable.js"></script>
<script type="text/javascript" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/jquery.min.js"></script>                         
<script type="text/javascript" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/seesaw.js"></script> 
<script type="text/javascript" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/rosversion.js"></script> 
<!--script type="text/javascript" src="/custom/libraries/RGraph.common.core.js" ></script Used for metrics only, should be conditional, not at the top-->
<!--script type="text/javascript" src="/custom/libraries/RGraph.bar.js" ></script same as above -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17821189-2']);
  _gaq.push(['_setDomainName', 'wiki.ros.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<script type="text/javascript">
<!-- //

// Version 1.9 stripped by Creativyst SS & JavaScript Compressor v2.2c (http://www.creativyst.com/Prod/3/)
function tabberObj(argsObj)
{ var arg; this.div = null; this.classMain = "tabber"; this.classMainLive = "tabberlive"; this.classTab = "tabbertab"; this.classTabDefault = "tabbertabdefault"; this.classNav = "tabbernav"; this.classTabHide = "tabbertabhide"; this.classNavActive = "tabberactive"; this.titleElements = ['h2','h3','h4','h5','h6']; this.titleElementsStripHTML = true; this.removeTitle = true; this.addLinkId = false; this.linkIdFormat = '<tabberid>nav<tabnumberone>'; for (arg in argsObj) { this[arg] = argsObj[arg];}
this.REclassMain = new RegExp('\\b' + this.classMain + '\\b', 'gi'); this.REclassMainLive = new RegExp('\\b' + this.classMainLive + '\\b', 'gi'); this.REclassTab = new RegExp('\\b' + this.classTab + '\\b', 'gi'); this.REclassTabDefault = new RegExp('\\b' + this.classTabDefault + '\\b', 'gi'); this.REclassTabHide = new RegExp('\\b' + this.classTabHide + '\\b', 'gi'); this.tabs = new Array(); if (this.div) { this.init(this.div); this.div = null;}
}
tabberObj.prototype.init = function(e)
{ var
childNodes, i, i2, t, defaultTab=0, DOM_ul, DOM_li, DOM_a, aId, headingElement; if (!document.getElementsByTagName) { return false;}
if (e.id) { this.id = e.id;}
this.tabs.length = 0; childNodes = e.childNodes; for(i=0; i < childNodes.length; i++) { if(childNodes[i].className &&
childNodes[i].className.match(this.REclassTab)) { t = new Object(); t.div = childNodes[i]; this.tabs[this.tabs.length] = t; if (childNodes[i].className.match(this.REclassTabDefault)) { defaultTab = this.tabs.length-1;}
}
}
DOM_ul = document.createElement("ul"); DOM_ul.className = this.classNav; for (i=0; i < this.tabs.length; i++) { t = this.tabs[i]; t.headingText = t.div.title; if (this.removeTitle) { t.div.title = '';}
if (!t.headingText) { for (i2=0; i2<this.titleElements.length; i2++) { headingElement = t.div.getElementsByTagName(this.titleElements[i2])[0]; if (headingElement) { t.headingText = headingElement.innerHTML; if (this.titleElementsStripHTML) { t.headingText.replace(/<br>/gi," "); t.headingText = t.headingText.replace(/<[^>]+>/g,"");}
break;}
}
}
if (!t.headingText) { t.headingText = i + 1;}
DOM_li = document.createElement("li"); t.li = DOM_li; DOM_a = document.createElement("a"); DOM_a.appendChild(document.createTextNode(t.headingText)); DOM_a.href = "javascript:void(null);"; DOM_a.title = t.headingText; DOM_a.onclick = this.navClick; DOM_a.tabber = this; DOM_a.tabberIndex = i; if (this.addLinkId && this.linkIdFormat) { aId = this.linkIdFormat; aId = aId.replace(/<tabberid>/gi, this.id); aId = aId.replace(/<tabnumberzero>/gi, i); aId = aId.replace(/<tabnumberone>/gi, i+1); aId = aId.replace(/<tabtitle>/gi, t.headingText.replace(/[^a-zA-Z0-9\-]/gi, '')); DOM_a.id = aId;}
DOM_li.appendChild(DOM_a); DOM_ul.appendChild(DOM_li);}
e.insertBefore(DOM_ul, e.firstChild); e.className = e.className.replace(this.REclassMain, this.classMainLive); this.tabShow(defaultTab); if (typeof this.onLoad == 'function') { this.onLoad({tabber:this});}
return this;}; tabberObj.prototype.navClick = function(event)
{ var
rVal, a, self, tabberIndex, onClickArgs; a = this; if (!a.tabber) { return false;}
self = a.tabber; tabberIndex = a.tabberIndex; a.blur(); if (typeof self.onClick == 'function') { onClickArgs = {'tabber':self, 'index':tabberIndex, 'event':event}; if (!event) { onClickArgs.event = window.event;}
rVal = self.onClick(onClickArgs); if (rVal === false) { return false;}
}
self.tabShow(tabberIndex); return false;}; tabberObj.prototype.tabHideAll = function()
{ var i; for (i = 0; i < this.tabs.length; i++) { this.tabHide(i);}
}; tabberObj.prototype.tabHide = function(tabberIndex)
{ var div; if (!this.tabs[tabberIndex]) { return false;}
div = this.tabs[tabberIndex].div; if (!div.className.match(this.REclassTabHide)) { div.className += ' ' + this.classTabHide;}
this.navClearActive(tabberIndex); return this;}; tabberObj.prototype.tabShow = function(tabberIndex)
{ var div; if (!this.tabs[tabberIndex]) { return false;}
this.tabHideAll(); div = this.tabs[tabberIndex].div; div.className = div.className.replace(this.REclassTabHide, ''); this.navSetActive(tabberIndex); if (typeof this.onTabDisplay == 'function') { this.onTabDisplay({'tabber':this, 'index':tabberIndex});}
return this;}; tabberObj.prototype.navSetActive = function(tabberIndex)
{ this.tabs[tabberIndex].li.className = this.classNavActive; return this;}; tabberObj.prototype.navClearActive = function(tabberIndex)
{ this.tabs[tabberIndex].li.className = ''; return this;}; function tabberAutomatic(tabberArgs)
{ var
tempObj, divs, i; if (!tabberArgs) { tabberArgs = {};}
tempObj = new tabberObj(tabberArgs); divs = document.getElementsByTagName("div"); for (i=0; i < divs.length; i++) { if (divs[i].className &&
divs[i].className.match(tempObj.REclassMain)) { tabberArgs.div = divs[i]; divs[i].tabber = new tabberObj(tabberArgs);}
}
return this;}
function tabberAutomaticOnLoad(tabberArgs)
{ var oldOnLoad; if (!tabberArgs) { tabberArgs = {};}
oldOnLoad = window.onload; if (typeof window.onload != 'function') { window.onload = function() { tabberAutomatic(tabberArgs);};} else { window.onload = function() { oldOnLoad(); tabberAutomatic(tabberArgs);};}
}
if (typeof tabberOptions == 'undefined') { tabberAutomaticOnLoad();} else { if (!tabberOptions['manualStartup']) { tabberAutomaticOnLoad(tabberOptions);}
}

//-->
</script>


<style type="text/css">
/*--------------------------------------------------
  REQUIRED to hide the non-active tab content.
  But do not hide them in the print stylesheet!
  --------------------------------------------------*/
.tabberlive .tabbertabhide {
 display:none;
}

/*--------------------------------------------------
  .tabber = before the tabber interface is set up
  .tabberlive = after the tabber interface is set up
  --------------------------------------------------*/
.tabber {
}
.tabberlive {
 margin-top:1em;
}

/*--------------------------------------------------
  ul.tabbernav = the tab navigation list
  li.tabberactive = the active tab
  --------------------------------------------------*/
ul.tabbernav
{
 margin:0;
 padding: 3px 0;
 border-bottom: 1px solid #778;
 font: bold 12px Verdana, sans-serif;
}

ul.tabbernav li
{
 list-style: none;
 margin: 0;
 display: inline;
}

ul.tabbernav li a
{
 padding: 3px 0.5em;
 margin-left: 3px;
 border: 1px solid #778;
 border-bottom: none;
 background: #DDE;
 text-decoration: none;
}

ul.tabbernav li a:link { color: #448; }
ul.tabbernav li a:visited { color: #667; }

ul.tabbernav li a:hover
{
 color: #000;
 background: #AAE;
 border-color: #227;
}

ul.tabbernav li.tabberactive a
{
 background-color: #fff;
 border-bottom: 1px solid #fff;
}

ul.tabbernav li.tabberactive a:hover
{
 color: #000;
 background: white;
 border-bottom: 1px solid white;
}

/*--------------------------------------------------
  .tabbertab = the tab content
  Add style only after the tabber interface is set up (.tabberlive)
  --------------------------------------------------*/
.tabberlive .tabbertab {
 padding:5px;
 border:1px solid #aaa;
 border-top:0;

 /* If you don't want the tab size changing whenever a tab is changed
    you can set a fixed height */

 /* height:200px; */

 /* If you set a fix height set overflow to auto and you will get a
    scrollbar when necessary */

 /* overflow:auto; */
}

/* If desired, hide the heading since a heading is provided by the tab */
.tabberlive .tabbertab h2 {
 display:none;
}
.tabberlive .tabbertab h3 {
 display:none;
}

/* Example of using an ID to set different styles for the tabs on the page */
.tabberlive#tab1 {
}
.tabberlive#tab2 {
}
.tabberlive#tab2 .tabbertab {
 height:200px;
 overflow:auto;
}
</style>

<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1099.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"4c8610d177","agent":"","transactionName":"NFZaMEVUV0ZVBkBeCQ0cbRZeGktaRxVNaBIWR1cWXlRVRhtP","applicationID":"3371695","errorBeacon":"bam.nr-data.net","applicationTime":147}</script>
<meta name="robots" content="index,nofollow">

<title>rospy_tutorials/Tutorials/AdvancedPublishing - ROS Wiki</title>
<script type="text/javascript" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/rostheme/css/msie.css">
<![endif]-->




<link rel="canonical" href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing">

<link rel="Start" href="http://wiki.ros.org/Documentation">
<link rel="Alternate" title="Wiki Markup" href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing?action=print">
<link rel="Up" href="http://wiki.ros.org/rospy_tutorials/Tutorials">
<link rel="Search" href="http://wiki.ros.org/FindPage">
<link rel="Index" href="http://wiki.ros.org/TitleIndex">
<link rel="Glossary" href="http://wiki.ros.org/WordIndex">
<link rel="Help" href="http://wiki.ros.org/HelpOnFormatting">
</head>

<body lang="en" dir="ltr" data-gr-c-s-loaded="true">

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5950817-2");
pageTracker._trackPageview();
} catch(err) {}</script>

<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
if(f) f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
if(e) {
  searchChange(e);
  searchBlur(e);
}

function handleSubmit() {
  var f = document.getElementById('searchform');
  var t = document.getElementById('searchinput');
  var r = document.getElementById('real_searchinput');

  //alert("handleSubmit "+ t.value);
  if(t.value.match(/review/)) {
    r.value = t.value;
  } else {
    //r.value = t.value + " -PackageReviewCategory -StackReviewCategory -M3Review -DocReview -ApiReview -HelpOn -BadContent -LocalSpellingWords";
    r.value = t.value + " -PackageReviewCategory -StackReviewCategory -DocReview -ApiReview";
  }
  //return validate(f);
}
//-->
</script>

<div id="dpage">
  <div id="dpage-inner">
    <div id="header"><div id="topnav">

<!-- Alert box -->
<!-- To enable/disable the alert box, uncomment/comment the block below and update the content below the button. -->

    <div class="alert alert-info alert-dismissable" style="text-align: center;">
<script>
jQuery(function( $ ){
    alert_box_name = 'roswiki_crystal_tshirt'
    state = localStorage.getItem(alert_box_name);
    if (!state) {
      localStorage.setItem(alert_box_name, 'open');
    }
    state = localStorage.getItem(alert_box_name);
    if (state == 'closed') {
        $( '#topnav .alert' ).hide();
    }
    $( '.close' ).click(function () {
	console.log('in .close.click');
        localStorage.setItem(alert_box_name, 'closed');
        $( '#topnav .alert' ).hide();
  });
});
</script>
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
      ROS Crystal Clemmys tshirts are <a href="https://teespring.com/ros-crystal-clemmys">available to order</a> until December 31st! <br>
      There are tshirts, hoodies, and kids sizes. <a href="https://teespring.com/ros-crystal-clemmys">Order yours now!</a>.
    </div>

<!-- End Alert box -->

      <table id="topnav-table">
        <tbody><tr>
          <td width="300" valign="top"><a href="http://wiki.ros.org/"><img border="0" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/ros_org.png" alt="ros.org" width="238" height="51"></a></td>
          <td width="500" valign="middle">
            <a href="http://www.ros.org/about-ros">About</a>
            |
            <a href="http://wiki.ros.org/Support">Support</a>
            |
            <a href="http://discourse.ros.org/">Discussion Forum</a>
            |
            <a href="http://status.ros.org/">Service Status</a>
            |
            <a href="http://answers.ros.org/">Q&amp;A answers.ros.org</a>

<!--<a href="http://roscon.ros.org/2016/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/roscon_wiki_header.jpg" width="133" height="65" alt="ROSCon 2016" /></a>
-->

<!-- <a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/ros_kong_2014_badge.png" width="133" height="38" alt="roskong" /></a>
-->
<!--a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://imgur.com/eMzUJVe.png" width="133" height="38" alt="roskong" /></a-->
          </td>

          <td valign="middle" align="right">

<script language="Javascript">

function Searchy(theButton){

theForm = theButton.form;
newID = theForm.input.value;
theForm.q.value = newID;
theForm.input.value=theForm.input.value

}
</script>


<form action="https://www.ros.org/search/index.html" id="cse">
  <div>
    <label>Search:</label>
    <input type="hidden" name="cx" value="005596761048178735851:_ejygd2ukbe">
    <input type="hidden" name="cof" value="FORID:11;NB:1">
    <input type="hidden" name="filter" value="0">
    <input type="hidden" name="num" value="10">

    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="input" id="input" autocomplete="on" style="width: 35%">
    <input type="hidden" name="q" value="">
    <input type="submit" name="sa" value="Submit" onclick="Searchy(this)">

  </div>
</form>

         </td>
      </tr>
      <tr>
        <td colspan="3" height="53" width="1024"><nobr><img src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_left.png" width="17" height="53" alt=""><a href="http://wiki.ros.org/"><img border="0" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_documentation.png" width="237" height="53" alt="Documentation"></a><img src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_spacer.png" width="69" height="53"><a href="https://index.ros.org/packages"><img border="0" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_browse_software.png" width="268" height="53" alt="Browse Software"></a><img src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://www.ros.org/news"><img border="0" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_news.png" width="84" height="53" alt="News"></a><img src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://wiki.ros.org/ROS/Installation"><img border="0" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_download.png" width="151" height="53" alt="Download"></a><img src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/menu_right.png" width="60" height="53"></nobr></td>

      </tr>
    </tbody></table> <!-- topnav-table -->

    </div> <!-- /#topav -->
  </div> <!-- /#header -->


<div id="header2">

<ul id="pagelocation">
<li><a href="http://wiki.ros.org/rospy_tutorials">rospy_tutorials</a></li><li><a href="http://wiki.ros.org/rospy_tutorials/Tutorials">Tutorials</a></li><li><a class="backlink" href="http://wiki.ros.org/action/fullsearch/rospy_tutorials/Tutorials/AdvancedPublishing?action=fullsearch&amp;context=180&amp;value=linkto%3A%22rospy_tutorials%2FTutorials%2FAdvancedPublishing%22" rel="nofollow" title="Click to do a full-text search for this title">AdvancedPublishing</a></li>
</ul>

<div id="locationline">
</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://wiki.ros.org/Distributions">Distributions</a></li><li class="wikilink"><a href="http://wiki.ros.org/ROS/Installation">ROS/Installation</a></li><li class="wikilink"><a href="http://wiki.ros.org/ROS/Tutorials">ROS/Tutorials</a></li><li class="wikilink"><a href="http://wiki.ros.org/RecentChanges">RecentChanges</a></li><li class="current"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing">AdvancedPublishing</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wiki.ros.org/action/info/rospy_tutorials/Tutorials/AdvancedPublishing?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wiki.ros.org/action/AttachFile/rospy_tutorials/Tutorials/AdvancedPublishing?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="show" disabled="" class="disabled">Delete Cache</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled="" class="disabled">Delete Page</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled="" class="disabled">Subscribe User</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Remove Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="CreatePdfDocument">CreatePdfDocument</option>
<option value="Load">Load</option>
<option value="RawFile">RawFile</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="http://wiki.ros.org/action/login/rospy_tutorials/Tutorials/AdvancedPublishing?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">

<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867"><span class="anchor" id="line-1-1"></span><span class="anchor" id="line-2-1"></span></p><div><table><tbody><tr>  <td style="background-color: #cce0ff"><strong>Note:</strong> This tutorial assumes that you have completed the previous tutorials:   <a href="http://wiki.ros.org/rospy_tutorials/Tutorials/WritingPublisherSubscriber">writing a simple publisher and subscriber</a>. </td>
</tr>
</tbody></table></div><span class="anchor" id="line-3-1"></span><span class="anchor" id="line-4-1"></span><span class="anchor" id="line-5-1"></span><span class="anchor" id="line-6-1"></span><div><table><tbody><tr>  <td style="background-color: #bbceee"> <img alt="(!)" height="15" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/idea.png" title="(!)" width="15"> Please ask about problems and questions regarding this tutorial on <a class="http" href="http://answers.ros.org/">answers.ros.org</a>. Don't forget to include in your question the link to this page, the versions of your OS &amp; ROS, and also add appropriate tags.</td>
</tr>
</tbody></table></div><span class="anchor" id="line-7-1"></span><span class="anchor" id="line-8-1"></span><span class="anchor" id="line-9-1"></span>
<h1 id="Publishing_messages_in_rospy">Publishing messages in rospy</h1>
<span class="anchor" id="line-10-1"></span><strong>Description:</strong> <a href="http://wiki.ros.org/rospy_tutorials/Tutorials/WritingPublisherSubscriber">Writing a simple publisher and subscriber</a> already introduced you to the basics of creating <a href="http://wiki.ros.org/rospy">rospy</a> <a href="http://wiki.ros.org/Nodes">Nodes</a> that publish and receive messages on ROS <a href="http://wiki.ros.org/Topics">Topics</a>. As you get more experienced with ROS and rospy, you may wish to learn some advanced syntax for publishing that will save you some typing -- as well as make your code more robust to future changes.<br>
<br>
 <span class="anchor" id="line-11-1"></span><span class="anchor" id="line-12-1"></span><span class="anchor" id="line-13-1"></span><span class="anchor" id="line-14-1"></span><strong>Tutorial Level:</strong>  INTERMEDIATE <br>
 <br>
 <span class="anchor" id="line-15-1"></span><span class="anchor" id="line-16-1"></span><strong>Next Tutorial:</strong> Publishing and Subscribing to Images  <a href="http://wiki.ros.org/rospy_tutorials/Tutorials/WritingImagePublisherSubscriber">rospy_tutorials/Tutorials/WritingImagePublisherSubscriber</a> <br>
 <br>
  <span class="anchor" id="line-17-1"></span><p class="line874"> <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></p><p class="line874">First, lets look at the publish call: <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p><p class="line867"><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><span class="anchor" id="line-1-2"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-783063f487ba297c77fa14517d1fc707454cbb31\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" onclick="return togglenumber(&#39;CA-783063f487ba297c77fa14517d1fc707454cbb31&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-783063f487ba297c77fa14517d1fc707454cbb31" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-783063f487ba297c77fa14517d1fc707454cbb31_1">   1</a> </span><span class="LineAnchor" id="CA-783063f487ba297c77fa14517d1fc707454cbb31_1"></span><span class="anchor" id="line-1-3"></span><span class="ID">pub</span>.<span class="ID">publish</span>(<span class="ID">String</span>(<span class="ResWord">str</span>))</span>
</pre></div></div><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line867"><a href="http://wiki.ros.org/rospy">rospy</a> already knows that you're trying to publish <tt class="backtick">std_msgs.msg.String</tt> objects, so you can shorten this to: <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></p><p class="line867"><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-1-4"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-3aa99702d5fbec7d246a812f2bf6fdc3688c6c7a\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" onclick="return togglenumber(&#39;CA-3aa99702d5fbec7d246a812f2bf6fdc3688c6c7a&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-3aa99702d5fbec7d246a812f2bf6fdc3688c6c7a" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-3aa99702d5fbec7d246a812f2bf6fdc3688c6c7a_1">   1</a> </span><span class="LineAnchor" id="CA-3aa99702d5fbec7d246a812f2bf6fdc3688c6c7a_1"></span><span class="anchor" id="line-1-5"></span><span class="ID">pub</span>.<span class="ID">publish</span>(<span class="ResWord">str</span>)</span>
</pre></div></div><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line867"><a href="http://wiki.ros.org/rospy">rospy</a> will automatically create the <tt class="backtick">std_msgs.msg.String</tt> instance for you.  <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></p><p class="line862">If the message takes in multiple arguments, you must specify them in the order that they are declared in the <tt class="backtick">.msg</tt> file. For example, <a class="http" href="http://ros.org/doc/api/std_msgs/html/msg/ColorRGBA.html">std_msgs/ColorRGBA</a>: <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p><p class="line867"><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></p><pre><span class="anchor" id="line-1-6"></span>$ rosmsg show std_msgs/ColorRGBA
<span class="anchor" id="line-2-2"></span>float32 r
<span class="anchor" id="line-3-2"></span>float32 g
<span class="anchor" id="line-4-2"></span>float32 b
<span class="anchor" id="line-5-2"></span>float32 a</pre><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><p class="line874">would be initialized with r, g, b, and a as the arguments, e.g.: <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p><p class="line867"><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-1-7"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-9b8bb3762302deb3c2fb6738dc698b9ce1182054\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" onclick="return togglenumber(&#39;CA-9b8bb3762302deb3c2fb6738dc698b9ce1182054&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-9b8bb3762302deb3c2fb6738dc698b9ce1182054" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-9b8bb3762302deb3c2fb6738dc698b9ce1182054_1">   1</a> </span><span class="LineAnchor" id="CA-9b8bb3762302deb3c2fb6738dc698b9ce1182054_1"></span><span class="anchor" id="line-1-8"></span><span class="ID">pub</span>.<span class="ID">publish</span>(<span class="Number">0.1</span>, <span class="Number">0.2</span>, <span class="Number">0.3</span>, <span class="Number">0.4</span>)</span>
</pre></div></div><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><p class="line862">Now, this is very handy, but it's also brittle. If you want to add a new field to the <tt class="backtick">ColorRGBA</tt> type, you will have to go through all the Python code that uses it (<tt class="backtick">rosmsg&nbsp;users&nbsp;std_msgs/ColorRGBA</tt>) and add the new field to your arguments. This can be a pain, especially if the field is optional.  <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></p><p class="line874">Luckily, there's a more robust way of specifying the fields that also lets you omit any fields that you wish to assign default values. You simply use Python keyword arguments to specify the fields you wish to assign. The rest are assigned default values (zero for numerical values, empty lists for arrays, empty string for strings): <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p><p class="line867"><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-1-9"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-dbfc044c7de36d230693b3821aff4a3b595a9c66\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" onclick="return togglenumber(&#39;CA-dbfc044c7de36d230693b3821aff4a3b595a9c66&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-dbfc044c7de36d230693b3821aff4a3b595a9c66" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-dbfc044c7de36d230693b3821aff4a3b595a9c66_1">   1</a> </span><span class="LineAnchor" id="CA-dbfc044c7de36d230693b3821aff4a3b595a9c66_1"></span><span class="anchor" id="line-1-10"></span><span class="ID">pub</span>.<span class="ID">publish</span>(<span class="ID">a</span>=<span class="Number">1.0</span>)</span>
</pre></div></div><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><p class="line862">This will publish a <tt class="backtick">ColorRGBA</tt> message with a=1.0 and the rest of the fields (r, g, b) assigned to zero. Working example: <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span></p><p class="line874">talker_color.py <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-1-11"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-c9d83663a16150fa58516a587ca612c7b9090dca\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" onclick="return togglenumber(&#39;CA-c9d83663a16150fa58516a587ca612c7b9090dca&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_1">   1</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_1"></span><span class="anchor" id="line-1-12"></span><span class="Comment">#!/usr/bin/env python</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_2">   2</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_2"></span><span class="anchor" id="line-2-3"></span><span class="ResWord">import</span> <span class="ID">roslib</span>; <span class="ID">roslib</span>.<span class="ID">load_manifest</span>(<span class="String">'</span><span class="String">beginner_tutorials</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_3">   3</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_3"></span><span class="anchor" id="line-3-3"></span><span class="ResWord">import</span> <span class="ID">rospy</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_4">   4</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_4"></span><span class="anchor" id="line-4-3"></span><span class="ResWord">from</span> <span class="ID">std_msgs.msg</span> <span class="ResWord">import</span> <span class="ID">ColorRGBA</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_5">   5</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_5"></span><span class="anchor" id="line-5-3"></span><span class="ResWord">def</span> <span class="ID">talker</span>():</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_6">   6</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_6"></span><span class="anchor" id="line-6-2"></span>    <span class="Comment">#pub = rospy.Publisher('chatter', String)</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_7">   7</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_7"></span><span class="anchor" id="line-7-2"></span>    <span class="ID">pub</span> = <span class="ID">rospy</span>.<span class="ID">Publisher</span>(<span class="String">'</span><span class="String">chatter_color</span><span class="String">'</span>, <span class="ID">ColorRGBA</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_8">   8</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_8"></span><span class="anchor" id="line-8-2"></span>    <span class="ID">rospy</span>.<span class="ID">init_node</span>(<span class="String">'</span><span class="String">talker_color</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_9">   9</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_9"></span><span class="anchor" id="line-9-2"></span>    <span class="ResWord">while</span> <span class="ResWord">not</span> <span class="ID">rospy</span>.<span class="ID">is_shutdown</span>():</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_10">  10</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_10"></span><span class="anchor" id="line-10-2"></span>        <span class="ID">pub</span>.<span class="ID">publish</span>(<span class="ID">a</span>=<span class="Number">1.0</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_11">  11</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_11"></span><span class="anchor" id="line-11-2"></span>        <span class="ID">rospy</span>.<span class="ID">sleep</span>(<span class="Number">1.0</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_12">  12</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_12"></span><span class="anchor" id="line-12-2"></span><span class="ResWord">if</span> <span class="ID">__name__</span> == <span class="String">'</span><span class="String">__main__</span><span class="String">'</span>:</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_13">  13</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_13"></span><span class="anchor" id="line-13-2"></span>    <span class="ResWord">try</span>:</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_14">  14</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_14"></span><span class="anchor" id="line-14-2"></span>        <span class="ID">talker</span>()</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-c9d83663a16150fa58516a587ca612c7b9090dca_15">  15</a> </span><span class="LineAnchor" id="CA-c9d83663a16150fa58516a587ca612c7b9090dca_15"></span><span class="anchor" id="line-15-2"></span>    <span class="ResWord">except</span> <span class="ID">rospy</span>.<span class="ID">ROSInterruptException</span>: <span class="ResWord">pass</span></span>
</pre></div></div><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line874">listener_color.py <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-1-13"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-94335acdbcc2143989de58158a16a73cf5ace2c9\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#" onclick="return togglenumber(&#39;CA-94335acdbcc2143989de58158a16a73cf5ace2c9&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_1">   1</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_1"></span><span class="anchor" id="line-1-14"></span><span class="Comment">#!/usr/bin/env python</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_2">   2</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_2"></span><span class="anchor" id="line-2-4"></span><span class="ResWord">import</span> <span class="ID">roslib</span>; <span class="ID">roslib</span>.<span class="ID">load_manifest</span>(<span class="String">'</span><span class="String">beginner_tutorials</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_3">   3</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_3"></span><span class="anchor" id="line-3-4"></span><span class="ResWord">import</span> <span class="ID">rospy</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_4">   4</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_4"></span><span class="anchor" id="line-4-4"></span><span class="ResWord">from</span> <span class="ID">std_msgs.msg</span> <span class="ResWord">import</span> <span class="ID">ColorRGBA</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_5">   5</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_5"></span><span class="anchor" id="line-5-4"></span><span class="ResWord">def</span> <span class="ID">callback</span>(<span class="ID">data</span>):</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_6">   6</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_6"></span><span class="anchor" id="line-6-3"></span>    <span class="ID">rospy</span>.<span class="ID">loginfo</span>(<span class="ID">rospy</span>.<span class="ID">get_name</span>()+ <span class="String">"</span><span class="String">I heard r=</span><span class="String">%s</span><span class="String"> g=</span><span class="String">%s</span><span class="String"> b=</span><span class="String">%s</span><span class="String"> a=</span><span class="String">%s</span><span class="String">"</span>, <span class="ID">data</span>.<span class="ID">r</span>, <span class="ID">data</span>.<span class="ID">g</span>, <span class="ID">data</span>.<span class="ID">b</span>, <span class="ID">data</span>.<span class="ID">a</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_7">   7</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_7"></span><span class="anchor" id="line-7-3"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_8">   8</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_8"></span><span class="anchor" id="line-8-3"></span><span class="ResWord">def</span> <span class="ID">listener</span>():</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_9">   9</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_9"></span><span class="anchor" id="line-9-3"></span>    <span class="ID">rospy</span>.<span class="ID">init_node</span>(<span class="String">'</span><span class="String">listener_color</span><span class="String">'</span>, <span class="ID">anonymous</span>=<span class="ResWord">True</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_10">  10</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_10"></span><span class="anchor" id="line-10-3"></span>    <span class="ID">rospy</span>.<span class="ID">Subscriber</span>(<span class="String">"</span><span class="String">chatter_color</span><span class="String">"</span>, <span class="ID">ColorRGBA</span>, <span class="ID">callback</span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_11">  11</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_11"></span><span class="anchor" id="line-11-3"></span>    <span class="ID">rospy</span>.<span class="ID">spin</span>()</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_12">  12</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_12"></span><span class="anchor" id="line-12-3"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_13">  13</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_13"></span><span class="anchor" id="line-13-3"></span><span class="ResWord">if</span> <span class="ID">__name__</span> == <span class="String">'</span><span class="String">__main__</span><span class="String">'</span>:</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/AdvancedPublishing#CA-94335acdbcc2143989de58158a16a73cf5ace2c9_14">  14</a> </span><span class="LineAnchor" id="CA-94335acdbcc2143989de58158a16a73cf5ace2c9_14"></span><span class="anchor" id="line-14-3"></span>    <span class="ID">listener</span>()</span>
</pre></div></div><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span></p><p class="line867"><span class="anchor" id="line-105"></span></p><p class="line867"><span class="anchor" id="line-106"></span></p><p class="line867"><span class="anchor" id="line-107"></span><span class="anchor" id="bottom"></span></p></div></div>
<div id="pagebottom"></div>
</div>

<p id="pageinfo" class="info" lang="en" dir="ltr">Wiki: rospy_tutorials/Tutorials/AdvancedPublishing  (last edited 2014-01-04 01:09:03 by <span title="TullyFoote @ 162-225-214-177.lightspeed.sntcca.sbcglobal.net[162.225.214.177]"><a href="http://wiki.ros.org/TullyFoote" title="TullyFoote @ 162-225-214-177.lightspeed.sntcca.sbcglobal.net[162.225.214.177]">TullyFoote</a></span>)</p>




<div style="margin-top: 9px;" class="footer">
Except where otherwise noted, the ROS wiki is licensed under the <br><a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a> | <a href="https://plus.google.com/113789706402978299308" rel="publisher">Find us on Google+</a>
<hr style="margin-top: 10px;">
<div class="row">
  <div class="col-md-4 col-md-offset-4">
<a href="http://www.osrfoundation.org/"><img style="margin-top: -1px;" src="./rospy_tutorials_Tutorials_AdvancedPublishing - ROS Wiki_files/brought_by_horiz.png"><p></p></a>
  </div>
</div>
</div>

  </div> <!-- /#dpage-inner, /#dpage -->





</body></html>