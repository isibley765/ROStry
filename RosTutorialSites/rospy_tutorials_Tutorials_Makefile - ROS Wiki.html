<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0054)http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile -->
<html class="gr__wiki_ros_org"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="google-site-verification" content="CjkdY6BqKWAVmQ78_iSq6J7ZZ9AoL7-CjFVBYGg9FU4">
<link rel="shortcut icon" href="http://wiki.ros.org/custom/favicon.ico" type="image/ico">
<link rel="stylesheet" href="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/bootstrap.min.css">
<script type="text/javascript" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/4c8610d177"></script><script src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/nr-1099.min.js"></script><script type="text/javascript" async="" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/ga.js"></script><script src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/jquery-1.11.0.min.js"></script>
<script src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/bootstrap.min.js"></script>
<script type="text/javascript" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/sorttable.js"></script>
<script type="text/javascript" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/jquery.min.js"></script>                         
<script type="text/javascript" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/seesaw.js"></script> 
<script type="text/javascript" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/rosversion.js"></script> 
<!--script type="text/javascript" src="/custom/libraries/RGraph.common.core.js" ></script Used for metrics only, should be conditional, not at the top-->
<!--script type="text/javascript" src="/custom/libraries/RGraph.bar.js" ></script same as above -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17821189-2']);
  _gaq.push(['_setDomainName', 'wiki.ros.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<script type="text/javascript">
<!-- //

// Version 1.9 stripped by Creativyst SS & JavaScript Compressor v2.2c (http://www.creativyst.com/Prod/3/)
function tabberObj(argsObj)
{ var arg; this.div = null; this.classMain = "tabber"; this.classMainLive = "tabberlive"; this.classTab = "tabbertab"; this.classTabDefault = "tabbertabdefault"; this.classNav = "tabbernav"; this.classTabHide = "tabbertabhide"; this.classNavActive = "tabberactive"; this.titleElements = ['h2','h3','h4','h5','h6']; this.titleElementsStripHTML = true; this.removeTitle = true; this.addLinkId = false; this.linkIdFormat = '<tabberid>nav<tabnumberone>'; for (arg in argsObj) { this[arg] = argsObj[arg];}
this.REclassMain = new RegExp('\\b' + this.classMain + '\\b', 'gi'); this.REclassMainLive = new RegExp('\\b' + this.classMainLive + '\\b', 'gi'); this.REclassTab = new RegExp('\\b' + this.classTab + '\\b', 'gi'); this.REclassTabDefault = new RegExp('\\b' + this.classTabDefault + '\\b', 'gi'); this.REclassTabHide = new RegExp('\\b' + this.classTabHide + '\\b', 'gi'); this.tabs = new Array(); if (this.div) { this.init(this.div); this.div = null;}
}
tabberObj.prototype.init = function(e)
{ var
childNodes, i, i2, t, defaultTab=0, DOM_ul, DOM_li, DOM_a, aId, headingElement; if (!document.getElementsByTagName) { return false;}
if (e.id) { this.id = e.id;}
this.tabs.length = 0; childNodes = e.childNodes; for(i=0; i < childNodes.length; i++) { if(childNodes[i].className &&
childNodes[i].className.match(this.REclassTab)) { t = new Object(); t.div = childNodes[i]; this.tabs[this.tabs.length] = t; if (childNodes[i].className.match(this.REclassTabDefault)) { defaultTab = this.tabs.length-1;}
}
}
DOM_ul = document.createElement("ul"); DOM_ul.className = this.classNav; for (i=0; i < this.tabs.length; i++) { t = this.tabs[i]; t.headingText = t.div.title; if (this.removeTitle) { t.div.title = '';}
if (!t.headingText) { for (i2=0; i2<this.titleElements.length; i2++) { headingElement = t.div.getElementsByTagName(this.titleElements[i2])[0]; if (headingElement) { t.headingText = headingElement.innerHTML; if (this.titleElementsStripHTML) { t.headingText.replace(/<br>/gi," "); t.headingText = t.headingText.replace(/<[^>]+>/g,"");}
break;}
}
}
if (!t.headingText) { t.headingText = i + 1;}
DOM_li = document.createElement("li"); t.li = DOM_li; DOM_a = document.createElement("a"); DOM_a.appendChild(document.createTextNode(t.headingText)); DOM_a.href = "javascript:void(null);"; DOM_a.title = t.headingText; DOM_a.onclick = this.navClick; DOM_a.tabber = this; DOM_a.tabberIndex = i; if (this.addLinkId && this.linkIdFormat) { aId = this.linkIdFormat; aId = aId.replace(/<tabberid>/gi, this.id); aId = aId.replace(/<tabnumberzero>/gi, i); aId = aId.replace(/<tabnumberone>/gi, i+1); aId = aId.replace(/<tabtitle>/gi, t.headingText.replace(/[^a-zA-Z0-9\-]/gi, '')); DOM_a.id = aId;}
DOM_li.appendChild(DOM_a); DOM_ul.appendChild(DOM_li);}
e.insertBefore(DOM_ul, e.firstChild); e.className = e.className.replace(this.REclassMain, this.classMainLive); this.tabShow(defaultTab); if (typeof this.onLoad == 'function') { this.onLoad({tabber:this});}
return this;}; tabberObj.prototype.navClick = function(event)
{ var
rVal, a, self, tabberIndex, onClickArgs; a = this; if (!a.tabber) { return false;}
self = a.tabber; tabberIndex = a.tabberIndex; a.blur(); if (typeof self.onClick == 'function') { onClickArgs = {'tabber':self, 'index':tabberIndex, 'event':event}; if (!event) { onClickArgs.event = window.event;}
rVal = self.onClick(onClickArgs); if (rVal === false) { return false;}
}
self.tabShow(tabberIndex); return false;}; tabberObj.prototype.tabHideAll = function()
{ var i; for (i = 0; i < this.tabs.length; i++) { this.tabHide(i);}
}; tabberObj.prototype.tabHide = function(tabberIndex)
{ var div; if (!this.tabs[tabberIndex]) { return false;}
div = this.tabs[tabberIndex].div; if (!div.className.match(this.REclassTabHide)) { div.className += ' ' + this.classTabHide;}
this.navClearActive(tabberIndex); return this;}; tabberObj.prototype.tabShow = function(tabberIndex)
{ var div; if (!this.tabs[tabberIndex]) { return false;}
this.tabHideAll(); div = this.tabs[tabberIndex].div; div.className = div.className.replace(this.REclassTabHide, ''); this.navSetActive(tabberIndex); if (typeof this.onTabDisplay == 'function') { this.onTabDisplay({'tabber':this, 'index':tabberIndex});}
return this;}; tabberObj.prototype.navSetActive = function(tabberIndex)
{ this.tabs[tabberIndex].li.className = this.classNavActive; return this;}; tabberObj.prototype.navClearActive = function(tabberIndex)
{ this.tabs[tabberIndex].li.className = ''; return this;}; function tabberAutomatic(tabberArgs)
{ var
tempObj, divs, i; if (!tabberArgs) { tabberArgs = {};}
tempObj = new tabberObj(tabberArgs); divs = document.getElementsByTagName("div"); for (i=0; i < divs.length; i++) { if (divs[i].className &&
divs[i].className.match(tempObj.REclassMain)) { tabberArgs.div = divs[i]; divs[i].tabber = new tabberObj(tabberArgs);}
}
return this;}
function tabberAutomaticOnLoad(tabberArgs)
{ var oldOnLoad; if (!tabberArgs) { tabberArgs = {};}
oldOnLoad = window.onload; if (typeof window.onload != 'function') { window.onload = function() { tabberAutomatic(tabberArgs);};} else { window.onload = function() { oldOnLoad(); tabberAutomatic(tabberArgs);};}
}
if (typeof tabberOptions == 'undefined') { tabberAutomaticOnLoad();} else { if (!tabberOptions['manualStartup']) { tabberAutomaticOnLoad(tabberOptions);}
}

//-->
</script>


<style type="text/css">
/*--------------------------------------------------
  REQUIRED to hide the non-active tab content.
  But do not hide them in the print stylesheet!
  --------------------------------------------------*/
.tabberlive .tabbertabhide {
 display:none;
}

/*--------------------------------------------------
  .tabber = before the tabber interface is set up
  .tabberlive = after the tabber interface is set up
  --------------------------------------------------*/
.tabber {
}
.tabberlive {
 margin-top:1em;
}

/*--------------------------------------------------
  ul.tabbernav = the tab navigation list
  li.tabberactive = the active tab
  --------------------------------------------------*/
ul.tabbernav
{
 margin:0;
 padding: 3px 0;
 border-bottom: 1px solid #778;
 font: bold 12px Verdana, sans-serif;
}

ul.tabbernav li
{
 list-style: none;
 margin: 0;
 display: inline;
}

ul.tabbernav li a
{
 padding: 3px 0.5em;
 margin-left: 3px;
 border: 1px solid #778;
 border-bottom: none;
 background: #DDE;
 text-decoration: none;
}

ul.tabbernav li a:link { color: #448; }
ul.tabbernav li a:visited { color: #667; }

ul.tabbernav li a:hover
{
 color: #000;
 background: #AAE;
 border-color: #227;
}

ul.tabbernav li.tabberactive a
{
 background-color: #fff;
 border-bottom: 1px solid #fff;
}

ul.tabbernav li.tabberactive a:hover
{
 color: #000;
 background: white;
 border-bottom: 1px solid white;
}

/*--------------------------------------------------
  .tabbertab = the tab content
  Add style only after the tabber interface is set up (.tabberlive)
  --------------------------------------------------*/
.tabberlive .tabbertab {
 padding:5px;
 border:1px solid #aaa;
 border-top:0;

 /* If you don't want the tab size changing whenever a tab is changed
    you can set a fixed height */

 /* height:200px; */

 /* If you set a fix height set overflow to auto and you will get a
    scrollbar when necessary */

 /* overflow:auto; */
}

/* If desired, hide the heading since a heading is provided by the tab */
.tabberlive .tabbertab h2 {
 display:none;
}
.tabberlive .tabbertab h3 {
 display:none;
}

/* Example of using an ID to set different styles for the tabs on the page */
.tabberlive#tab1 {
}
.tabberlive#tab2 {
}
.tabberlive#tab2 .tabbertab {
 height:200px;
 overflow:auto;
}
</style>

<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1099.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"4c8610d177","agent":"","transactionName":"NFZaMEVUV0ZVBkBeCQ0cbRZeGktaRxVNaBIWR1cWXlRVRhtP","applicationID":"3371695","errorBeacon":"bam.nr-data.net","applicationTime":248}</script>
<meta name="robots" content="index,nofollow">

<title>rospy_tutorials/Tutorials/Makefile - ROS Wiki</title>
<script type="text/javascript" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/rostheme/css/msie.css">
<![endif]-->




<link rel="canonical" href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile">

<link rel="Start" href="http://wiki.ros.org/Documentation">
<link rel="Alternate" title="Wiki Markup" href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile?action=print">
<link rel="Up" href="http://wiki.ros.org/rospy_tutorials/Tutorials">
<link rel="Search" href="http://wiki.ros.org/FindPage">
<link rel="Index" href="http://wiki.ros.org/TitleIndex">
<link rel="Glossary" href="http://wiki.ros.org/WordIndex">
<link rel="Help" href="http://wiki.ros.org/HelpOnFormatting">
</head>

<body lang="en" dir="ltr" data-gr-c-s-loaded="true">

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5950817-2");
pageTracker._trackPageview();
} catch(err) {}</script>

<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
if(f) f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
if(e) {
  searchChange(e);
  searchBlur(e);
}

function handleSubmit() {
  var f = document.getElementById('searchform');
  var t = document.getElementById('searchinput');
  var r = document.getElementById('real_searchinput');

  //alert("handleSubmit "+ t.value);
  if(t.value.match(/review/)) {
    r.value = t.value;
  } else {
    //r.value = t.value + " -PackageReviewCategory -StackReviewCategory -M3Review -DocReview -ApiReview -HelpOn -BadContent -LocalSpellingWords";
    r.value = t.value + " -PackageReviewCategory -StackReviewCategory -DocReview -ApiReview";
  }
  //return validate(f);
}
//-->
</script>

<div id="dpage">
  <div id="dpage-inner">
    <div id="header"><div id="topnav">

<!-- Alert box -->
<!-- To enable/disable the alert box, uncomment/comment the block below and update the content below the button. -->

    <div class="alert alert-info alert-dismissable" style="text-align: center;">
<script>
jQuery(function( $ ){
    alert_box_name = 'roswiki_crystal_tshirt'
    state = localStorage.getItem(alert_box_name);
    if (!state) {
      localStorage.setItem(alert_box_name, 'open');
    }
    state = localStorage.getItem(alert_box_name);
    if (state == 'closed') {
        $( '#topnav .alert' ).hide();
    }
    $( '.close' ).click(function () {
	console.log('in .close.click');
        localStorage.setItem(alert_box_name, 'closed');
        $( '#topnav .alert' ).hide();
  });
});
</script>
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
      ROS Crystal Clemmys tshirts are <a href="https://teespring.com/ros-crystal-clemmys">available to order</a> until December 31st! <br>
      There are tshirts, hoodies, and kids sizes. <a href="https://teespring.com/ros-crystal-clemmys">Order yours now!</a>.
    </div>

<!-- End Alert box -->

      <table id="topnav-table">
        <tbody><tr>
          <td width="300" valign="top"><a href="http://wiki.ros.org/"><img border="0" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/ros_org.png" alt="ros.org" width="238" height="51"></a></td>
          <td width="500" valign="middle">
            <a href="http://www.ros.org/about-ros">About</a>
            |
            <a href="http://wiki.ros.org/Support">Support</a>
            |
            <a href="http://discourse.ros.org/">Discussion Forum</a>
            |
            <a href="http://status.ros.org/">Service Status</a>
            |
            <a href="http://answers.ros.org/">Q&amp;A answers.ros.org</a>

<!--<a href="http://roscon.ros.org/2016/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/roscon_wiki_header.jpg" width="133" height="65" alt="ROSCon 2016" /></a>
-->

<!-- <a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/ros_kong_2014_badge.png" width="133" height="38" alt="roskong" /></a>
-->
<!--a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://imgur.com/eMzUJVe.png" width="133" height="38" alt="roskong" /></a-->
          </td>

          <td valign="middle" align="right">

<script language="Javascript">

function Searchy(theButton){

theForm = theButton.form;
newID = theForm.input.value;
theForm.q.value = newID;
theForm.input.value=theForm.input.value

}
</script>


<form action="https://www.ros.org/search/index.html" id="cse">
  <div>
    <label>Search:</label>
    <input type="hidden" name="cx" value="005596761048178735851:_ejygd2ukbe">
    <input type="hidden" name="cof" value="FORID:11;NB:1">
    <input type="hidden" name="filter" value="0">
    <input type="hidden" name="num" value="10">

    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="input" id="input" autocomplete="on" style="width: 35%">
    <input type="hidden" name="q" value="">
    <input type="submit" name="sa" value="Submit" onclick="Searchy(this)">

  </div>
</form>

         </td>
      </tr>
      <tr>
        <td colspan="3" height="53" width="1024"><nobr><img src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_left.png" width="17" height="53" alt=""><a href="http://wiki.ros.org/"><img border="0" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_documentation.png" width="237" height="53" alt="Documentation"></a><img src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_spacer.png" width="69" height="53"><a href="https://index.ros.org/packages"><img border="0" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_browse_software.png" width="268" height="53" alt="Browse Software"></a><img src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://www.ros.org/news"><img border="0" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_news.png" width="84" height="53" alt="News"></a><img src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://wiki.ros.org/ROS/Installation"><img border="0" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_download.png" width="151" height="53" alt="Download"></a><img src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/menu_right.png" width="60" height="53"></nobr></td>

      </tr>
    </tbody></table> <!-- topnav-table -->

    </div> <!-- /#topav -->
  </div> <!-- /#header -->


<div id="header2">

<ul id="pagelocation">
<li><a href="http://wiki.ros.org/rospy_tutorials">rospy_tutorials</a></li><li><a href="http://wiki.ros.org/rospy_tutorials/Tutorials">Tutorials</a></li><li><a class="backlink" href="http://wiki.ros.org/action/fullsearch/rospy_tutorials/Tutorials/Makefile?action=fullsearch&amp;context=180&amp;value=linkto%3A%22rospy_tutorials%2FTutorials%2FMakefile%22" rel="nofollow" title="Click to do a full-text search for this title">Makefile</a></li>
</ul>

<div id="locationline">
</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://wiki.ros.org/Distributions">Distributions</a></li><li class="wikilink"><a href="http://wiki.ros.org/ROS/Installation">ROS/Installation</a></li><li class="wikilink"><a href="http://wiki.ros.org/ROS/Tutorials">ROS/Tutorials</a></li><li class="wikilink"><a href="http://wiki.ros.org/RecentChanges">RecentChanges</a></li><li class="current"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile">Makefile</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wiki.ros.org/action/info/rospy_tutorials/Tutorials/Makefile?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wiki.ros.org/action/AttachFile/rospy_tutorials/Tutorials/Makefile?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="show" disabled="" class="disabled">Delete Cache</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled="" class="disabled">Delete Page</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled="" class="disabled">Subscribe User</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Remove Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="CreatePdfDocument">CreatePdfDocument</option>
<option value="Load">Load</option>
<option value="RawFile">RawFile</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="http://wiki.ros.org/action/login/rospy_tutorials/Tutorials/Makefile?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">

<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867"><script type="text/javascript">
<!--
// @@ Buildsystem macro
function Buildsystem(sections) {
    var dotversion = ".buildsystem."

    // Tag shows unless already tagged
    $.each(sections.show,
        function() {
            $("div" + dotversion + this).not(".versionshow,.versionhide").addClass("versionshow")
        }
    )

    // Tag hides unless already tagged
    $.each(sections.hide,
        function() {
            $("div" + dotversion + this).not(".versionshow,.versionhide").addClass("versionhide")
        }
    )

      // Show or hide according to tag
      $(".versionshow").removeClass("versionshow").filter("div").show()
      $(".versionhide").removeClass("versionhide").filter("div").hide()
}

function getURLParameter(name) {
    return decodeURIComponent(
        (
            new RegExp(
                '[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)'
            ).exec(location.search) || [,""]
        )[1].replace(/\+/g, '%20')
    ) || null;
}

$(document).ready(function() {
    var activesystem = "catkin";
    var url_distro = getURLParameter('buildsystem');
    if (url_distro)
    {
        activesystem = url_distro;
    }
    $("div.buildsystem").not("."+activesystem).hide();
    $("#"+activesystem).click();
    $("input.version:hidden").each(function() {
        var bg = $(this).attr("value").split(":");
        $("div.version." + bg[0]).css("background-color", bg[1]).removeClass(bg[0])
    });
})
 // -->
</script>
<span class="btn-group">
<button id="catkin" class="btn btn-default" onclick="Buildsystem({show:[&#39;catkin&#39;], hide:[&#39;rosbuild&#39;]});this.style.color=&#39;#e6e6e6&#39;;this.style.background=&#39;#3e4f6e&#39;;document.getElementById(&#39;rosbuild&#39;).style.background=&#39;#e6e6e6&#39;;document.getElementById(&#39;rosbuild&#39;).style.color=&#39;#3e4f6e&#39;;return false" style="color: rgb(230, 230, 230); background: rgb(62, 79, 110);"> catkin </button>
<button id="rosbuild" class="btn btn-default" onclick="Buildsystem({show:[&#39;rosbuild&#39;], hide:[&#39;catkin&#39;]});this.style.color=&#39;#e6e6e6&#39;;this.style.background=&#39;#3e4f6e&#39;;document.getElementById(&#39;catkin&#39;).style.background=&#39;#e6e6e6&#39;;document.getElementById(&#39;catkin&#39;).style.color=&#39;#3e4f6e&#39;;return false" style="background: rgb(230, 230, 230); color: rgb(62, 79, 110);"> rosbuild </button>
</span> <span class="anchor" id="line-20"></span><span class="anchor" id="line-1-1"></span><span class="anchor" id="line-2-1"></span></p><div><table><tbody><tr>  <td style="background-color: #cce0ff"><strong>Note:</strong> This tutorial assumes that you have completed the previous tutorials:   <a href="http://wiki.ros.org/ROS/Tutorials">ROS tutorials</a>. </td>
</tr>
</tbody></table></div><span class="anchor" id="line-3-1"></span><span class="anchor" id="line-4-1"></span><span class="anchor" id="line-5-1"></span><span class="anchor" id="line-6-1"></span><div><table><tbody><tr>  <td style="background-color: #bbceee"> <img alt="(!)" height="15" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/idea.png" title="(!)" width="15"> Please ask about problems and questions regarding this tutorial on <a class="http" href="http://answers.ros.org/">answers.ros.org</a>. Don't forget to include in your question the link to this page, the versions of your OS &amp; ROS, and also add appropriate tags.</td>
</tr>
</tbody></table></div><span class="anchor" id="line-7-1"></span><span class="anchor" id="line-8-1"></span><span class="anchor" id="line-9-1"></span>
<h1 id="Writing_a_ROS_Python_Makefile">Writing a ROS Python Makefile</h1>
<span class="anchor" id="line-10-1"></span><strong>Description:</strong> I know what you're saying: "Python... <em>Makefile</em>?" Believe it or not, you do need <tt class="backtick">Makefile</tt> (and <a href="http://wiki.ros.org/CMakeLists">CMakeLists</a>), even if you just hack Python all day.<br>
<br>
 <span class="anchor" id="line-11-1"></span><span class="anchor" id="line-12-1"></span><span class="anchor" id="line-13-1"></span><span class="anchor" id="line-14-1"></span><strong>Tutorial Level:</strong> BEGINNER<br>
 <br>
 <span class="anchor" id="line-15-1"></span><span class="anchor" id="line-16-1"></span><strong>Next Tutorial:</strong>   <a href="http://wiki.ros.org/rospy_tutorials/Tutorials/PythonPath">Setting Up Your PYTHONPATH</a> <br>
 <br>
  <span class="anchor" id="line-17-1"></span><p class="line874"> <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span></p><p class="line874">This tutorial repeats information from earlier tutorials with a focus on the Makefiles. You can skip this tutorial unless you just need information about the makefile and CMakelists.txt. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span></p><p class="line867">
</p><h2 id="Intro">Intro</h2>
<span class="anchor" id="line-25"></span><p class="line862">These build files (<tt class="backtick">CMakeLists.txt</tt>, <tt class="backtick">Makefile</tt>) are fairly simple, but they provide important functionality such as: <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><ul><li>autogenerating message and service code <span class="anchor" id="line-28"></span></li><li>running tests <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></li></ul><p class="line862">The test functionality is especially important as we have the ability to run tests on your package <em>plus</em> every package that depends on it (<tt class="backtick">rospack&nbsp;pkg&nbsp;test</tt>), which is very important for finding regressions prior to checkin. <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span></p><p class="line867"><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span></p><div class="buildsystem rosbuild" style="display: none;"><span class="anchor" id="line-1-2"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#Makefile">Makefile</a></li><li>
<a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CMakeLists.txt">CMakeLists.txt</a></li></ol></div><p class="line874"> <span class="anchor" id="line-2-2"></span><span class="anchor" id="line-3-2"></span></p><p class="line874">These build files are not difficult to write. In fact, we have an automated tool that will create a all the necessary build files for you: <span class="anchor" id="line-4-2"></span><span class="anchor" id="line-5-2"></span></p><p class="line867"><span class="anchor" id="line-6-2"></span><span class="anchor" id="line-7-2"></span></p><pre><span class="anchor" id="line-1-3"></span>$ roscreate-pkg my_pkg rospy</pre><span class="anchor" id="line-8-2"></span><span class="anchor" id="line-9-2"></span><p class="line862">This will create <tt class="backtick">my_pkg</tt> and add in a dependency on <a href="http://wiki.ros.org/rospy">rospy</a> so that you can use in it your code. <span class="anchor" id="line-10-2"></span><span class="anchor" id="line-11-2"></span></p><p class="line874">If you want to write the necessary build files by hand, here's what you need: <span class="anchor" id="line-12-2"></span><span class="anchor" id="line-13-2"></span></p><p class="line867">
</p><h2 id="Makefile">Makefile</h2>
<span class="anchor" id="line-14-2"></span><span class="anchor" id="line-15-2"></span><p class="line862">Your <tt class="backtick">Makefile</tt> only needs to be one line: <span class="anchor" id="line-16-2"></span><span class="anchor" id="line-17-2"></span></p><p class="line867"><tt class="backtick">mypackage/Makefile</tt> <span class="anchor" id="line-18-1"></span><span class="anchor" id="line-19-1"></span><span class="anchor" id="line-20-1"></span></p><pre><span class="anchor" id="line-1-4"></span>include $(shell rospack find mk)/cmake.mk</pre><span class="anchor" id="line-21-1"></span><span class="anchor" id="line-22-1"></span><p class="line874">This loads up our cmake definitions, which ensure our builds are cross-platform.  <span class="anchor" id="line-23-1"></span><span class="anchor" id="line-24-1"></span></p><p class="line867">
</p><h2 id="CMakeLists.txt">CMakeLists.txt</h2>
<span class="anchor" id="line-25-1"></span><span class="anchor" id="line-26-1"></span><p class="line862">You also need to provide the <a class="nonexistent" href="http://wiki.ros.org/CMakeLists.txt">CMakeLists</a> file, which is also fairly simple. Here is an example for a <a href="http://wiki.ros.org/Packages">Package</a> that has <a href="http://wiki.ros.org/Messages">Messages</a>, <a href="http://wiki.ros.org/Services">Services</a>, and tests: <span class="anchor" id="line-27-1"></span><span class="anchor" id="line-28-1"></span></p><p class="line867"><tt class="backtick">mypackage/CMakeLists.txt</tt> <span class="anchor" id="line-29-1"></span><span class="anchor" id="line-30-1"></span><span class="anchor" id="line-31-1"></span><span class="anchor" id="line-32-1"></span><span class="anchor" id="line-33-1"></span><span class="anchor" id="line-34-1"></span><span class="anchor" id="line-35-1"></span><span class="anchor" id="line-36-1"></span></p><pre><span class="anchor" id="line-1-5"></span>cmake_minimum_required(VERSION 2.4.6)
<span class="anchor" id="line-2-3"></span>include($ENV{ROS_ROOT}/core/rosbuild/rosbuild.cmake)
<span class="anchor" id="line-3-3"></span>rosbuild_init()
<span class="anchor" id="line-4-3"></span>rosbuild_genmsg()
<span class="anchor" id="line-5-3"></span>rosbuild_gensrv()
<span class="anchor" id="line-6-3"></span>rosbuild_add_rostest(test/talker-listener-test.launch)</pre><span class="anchor" id="line-37-1"></span><span class="anchor" id="line-38-1"></span><p class="line862">Feel free to omit the <tt class="backtick">rosbuild_genmsg/rosbuild_gensrv/rosbuild_add_rostest</tt> lines as appropriate.  </p></div><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><p class="line867"><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span></p><div class="buildsystem catkin"><span class="anchor" id="line-1-6"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#Messages_and_Services">Messages and Services</a></li><li>
<a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#Installing_scripts_and_exporting_modules">Installing scripts and exporting modules</a></li></ol></div><p class="line874"> <span class="anchor" id="line-2-4"></span><span class="anchor" id="line-3-4"></span></p><p class="line874">With catkin, you only need a CMakefile, which will generate a Makefile in your buildfolder. <span class="anchor" id="line-4-4"></span><span class="anchor" id="line-5-4"></span></p><p class="line874">Your package.xml should contain the lines: <span class="anchor" id="line-6-4"></span><span class="anchor" id="line-7-3"></span><span class="anchor" id="line-8-3"></span></p><pre><span class="anchor" id="line-1-7"></span>  &lt;buildtool_depend&gt;catkin&lt;/buildtool_depend&gt;</pre><span class="anchor" id="line-9-3"></span><span class="anchor" id="line-10-3"></span><span class="anchor" id="line-11-3"></span><p class="line874">You can create a new package in your catkin workspace like this: <span class="anchor" id="line-12-3"></span><span class="anchor" id="line-13-3"></span><span class="anchor" id="line-14-3"></span><span class="anchor" id="line-15-3"></span></p><pre><span class="anchor" id="line-1-8"></span>$ cd ~/catkin_ws/src
<span class="anchor" id="line-2-5"></span>$ catkin_create_pkg my_pkg message_generation rospy</pre><span class="anchor" id="line-16-3"></span><span class="anchor" id="line-17-3"></span><p class="line862">This will create <tt class="backtick">my_pkg</tt> and add in a dependency on <a href="http://wiki.ros.org/rospy">rospy</a> so that you can use in it your code. We use <tt class="backtick">message_generation</tt> here for the second part of the tutorial, you only need this if your catkin packages defines new ROS messages or services. <span class="anchor" id="line-18-2"></span><span class="anchor" id="line-19-2"></span></p><p class="line874">Your CMakeLists.txt should at least contain the lines: <span class="anchor" id="line-20-2"></span><span class="anchor" id="line-21-2"></span><span class="anchor" id="line-22-2"></span><span class="anchor" id="line-23-2"></span><span class="anchor" id="line-24-2"></span><span class="anchor" id="line-25-2"></span><span class="anchor" id="line-26-2"></span></p><pre><span class="anchor" id="line-1-9"></span>cmake_minimum_required(VERSION 2.8.3)
<span class="anchor" id="line-2-6"></span>project(my_pkg)
<span class="anchor" id="line-3-5"></span>
<span class="anchor" id="line-4-5"></span>find_package(catkin REQUIRED COMPONENTS message_generation rospy ...)
<span class="anchor" id="line-5-5"></span>catkin_package()</pre><span class="anchor" id="line-27-2"></span><span class="anchor" id="line-28-2"></span><p class="line867">
</p><h3 id="Messages_and_Services">Messages and Services</h3>
<span class="anchor" id="line-29-2"></span><span class="anchor" id="line-30-2"></span><p class="line874">To add Messages or Services, you need a few additions to your package.xml and CMakeLists.txt.  <span class="anchor" id="line-31-2"></span><span class="anchor" id="line-32-2"></span></p><p class="line874">Your package.xml should contain the lines: <span class="anchor" id="line-33-2"></span><span class="anchor" id="line-34-2"></span><span class="anchor" id="line-35-2"></span></p><pre><span class="anchor" id="line-1-10"></span>  &lt;build_depend&gt;message_generation&lt;/build_depend&gt;</pre><span class="anchor" id="line-36-2"></span><p class="line874">This line will have no effect when message_generation exists outside your workspace, since message_generation is already installed. But for people using your package in the same workspace as message_generation will benefit from this line. <span class="anchor" id="line-37-2"></span><span class="anchor" id="line-38-2"></span></p><p class="line874">You should add the following runtime dependency: <span class="anchor" id="line-39-1"></span><span class="anchor" id="line-40-1"></span><span class="anchor" id="line-41-1"></span></p><pre><span class="anchor" id="line-1-11"></span>  &lt;run_depend&gt;message_runtime&lt;/run_depend&gt;</pre><span class="anchor" id="line-42-1"></span><span class="anchor" id="line-43-1"></span><p class="line874">Your CMakelists.txt should contain: <span class="anchor" id="line-44-1"></span><span class="anchor" id="line-45-1"></span><span class="anchor" id="line-46-1"></span><span class="anchor" id="line-47-1"></span><span class="anchor" id="line-48-1"></span><span class="anchor" id="line-49-1"></span><span class="anchor" id="line-50-1"></span><span class="anchor" id="line-51-1"></span><span class="anchor" id="line-52-1"></span><span class="anchor" id="line-53-1"></span><span class="anchor" id="line-54-1"></span><span class="anchor" id="line-55-1"></span><span class="anchor" id="line-56-1"></span><span class="anchor" id="line-57-1"></span><span class="anchor" id="line-58-1"></span><span class="anchor" id="line-59-1"></span><span class="anchor" id="line-60-1"></span><span class="anchor" id="line-61-1"></span><span class="anchor" id="line-62-1"></span><span class="anchor" id="line-63-1"></span><span class="anchor" id="line-64-1"></span><span class="anchor" id="line-65-1"></span><span class="anchor" id="line-66-1"></span><span class="anchor" id="line-67-1"></span><span class="anchor" id="line-68-1"></span><span class="anchor" id="line-69-1"></span></p><pre><span class="anchor" id="line-1-12"></span>cmake_minimum_required(VERSION 2.8.3)
<span class="anchor" id="line-2-7"></span>project(my_pkg)
<span class="anchor" id="line-3-6"></span>
<span class="anchor" id="line-4-6"></span>find_package(catkin REQUIRED COMPONENTS message_generation rospy)
<span class="anchor" id="line-5-6"></span>
<span class="anchor" id="line-6-5"></span>add_message_files(
<span class="anchor" id="line-7-4"></span>  FILES  # e.g. Floats.msg HeaderString.msg
<span class="anchor" id="line-8-4"></span>)
<span class="anchor" id="line-9-4"></span>add_service_files(
<span class="anchor" id="line-10-4"></span>  DIRECTORY srv 
<span class="anchor" id="line-11-4"></span>  FILES AddTwoInts.srv BadTwoInts.srv
<span class="anchor" id="line-12-4"></span>)
<span class="anchor" id="line-13-4"></span>
<span class="anchor" id="line-14-4"></span>## Generate services in the 'srv' folder
<span class="anchor" id="line-15-4"></span># add_service_files(
<span class="anchor" id="line-16-4"></span>#  FILES  # e.g. Floats.srv HeaderString.srv
<span class="anchor" id="line-17-4"></span>#)
<span class="anchor" id="line-18-3"></span>
<span class="anchor" id="line-19-3"></span>## Generate added messages and services with any dependencies
<span class="anchor" id="line-20-3"></span>generate_messages()
<span class="anchor" id="line-21-3"></span>
<span class="anchor" id="line-22-3"></span>catkin_package(
<span class="anchor" id="line-23-3"></span>  CATKIN_DEPENDS message_runtime
<span class="anchor" id="line-24-3"></span>)</pre><span class="anchor" id="line-70-1"></span><span class="anchor" id="line-71-1"></span><p class="line867">
</p><h3 id="Installing_scripts_and_exporting_modules">Installing scripts and exporting modules</h3>
<span class="anchor" id="line-72-1"></span><span class="anchor" id="line-73-1"></span><p class="line874">With catkin, ROS packages can have an install target. This makes it much easier for other package managers to automatically create installable packages than apt-get, e.g. also for MacOS, Arch, BSD, Windows, etc. <span class="anchor" id="line-74-1"></span><span class="anchor" id="line-75-1"></span></p><p class="line862">However the responsibility is with the developer to describe what needs to be installed, since it is generally bad if every file in your source tree is installed on other people's computers. So for python projects what we want to install are scripts, python modules for others to use as libraries (Other resources are currently not supported for declaration in <tt class="backtick">setup.py</tt>, use <tt class="backtick">CMakeLists.txt</tt> instead). <span class="anchor" id="line-76-1"></span><span class="anchor" id="line-77-1"></span></p><p class="line874">For the sake of this tutorial, create an example python package in the source folder: <span class="anchor" id="line-78-1"></span><span class="anchor" id="line-79-1"></span><span class="anchor" id="line-80-1"></span><span class="anchor" id="line-81-1"></span><span class="anchor" id="line-82-1"></span><span class="anchor" id="line-83-1"></span><span class="anchor" id="line-84-1"></span></p><pre><span class="anchor" id="line-1-13"></span>$ cd ~/catkin_ws/src/my_pkg    # new catkin package, in the workspace
<span class="anchor" id="line-2-8"></span>$ mkdir bin
<span class="anchor" id="line-3-7"></span>$ mkdir src
<span class="anchor" id="line-4-7"></span>$ mkdir src/tutorial_package
<span class="anchor" id="line-5-7"></span>$ touch src/tutorial_package/__init__.py</pre><span class="anchor" id="line-85-1"></span><p class="line862">This defines a python package called <tt class="backtick">tutorial_package</tt>. Usually, you should call the package the same as your catkin package (<tt class="backtick">my_pkg</tt> in this case) to avoid confusion, but here we name them differently so that you see what goes where. <span class="anchor" id="line-86-1"></span><span class="anchor" id="line-87-1"></span></p><p class="line862">We also add a simple module and script to our project. <strong>Within my_pkg</strong>, create file <tt class="backtick">src/tutorial_package/hello.py</tt> <span class="anchor" id="line-88-1"></span><span class="anchor" id="line-89-1"></span><span class="anchor" id="line-90-1"></span><span class="anchor" id="line-91-1"></span></p><pre><span class="anchor" id="line-1-14"></span>def say(name):
<span class="anchor" id="line-2-9"></span>    print('Hello ' + name)</pre><span class="anchor" id="line-92-1"></span><span class="anchor" id="line-93-1"></span><p class="line862">And also create file <tt class="backtick">bin/hello</tt>: <span class="anchor" id="line-94-1"></span><span class="anchor" id="line-95-1"></span><span class="anchor" id="line-96-1"></span><span class="anchor" id="line-97-1"></span><span class="anchor" id="line-98-1"></span><span class="anchor" id="line-99-1"></span><span class="anchor" id="line-100-1"></span><span class="anchor" id="line-101-1"></span><span class="anchor" id="line-102-1"></span><span class="anchor" id="line-1-15"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-49fb61ffa7d241a51a068292feeb28f5b226151a\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#" onclick="return togglenumber(&#39;CA-49fb61ffa7d241a51a068292feeb28f5b226151a&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_1">   1</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_1"></span><span class="anchor" id="line-1-16"></span><span class="Comment">#! /usr/bin/env python</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_2">   2</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_2"></span><span class="anchor" id="line-2-10"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_3">   3</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_3"></span><span class="anchor" id="line-3-8"></span><span class="ResWord">import</span> <span class="ID">tutorial_package.hello</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_4">   4</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_4"></span><span class="anchor" id="line-4-8"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_5">   5</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_5"></span><span class="anchor" id="line-5-8"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_6">   6</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_6"></span><span class="anchor" id="line-6-6"></span><span class="ResWord">if</span> <span class="ID">__name__</span> == <span class="String">'</span><span class="String">__main__</span><span class="String">'</span>:</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-49fb61ffa7d241a51a068292feeb28f5b226151a_7">   7</a> </span><span class="LineAnchor" id="CA-49fb61ffa7d241a51a068292feeb28f5b226151a_7"></span><span class="anchor" id="line-7-5"></span>    <span class="ID">tutorial_package</span>.<span class="ID">hello</span>.<span class="ID">say</span>(<span class="String">'</span><span class="String">my friend!</span><span class="String">'</span>)</span>
</pre></div></div><span class="anchor" id="line-103-1"></span><span class="anchor" id="line-104-1"></span><p class="line874">Make the file executable: <span class="anchor" id="line-105-1"></span><span class="anchor" id="line-106-1"></span><span class="anchor" id="line-107-1"></span></p><pre><span class="anchor" id="line-1-17"></span>$ chmod u+x bin/hello</pre><span class="anchor" id="line-108-1"></span><span class="anchor" id="line-109-1"></span><p class="line874">if we try to run the executable just like that, we get an import error: <span class="anchor" id="line-110-1"></span><span class="anchor" id="line-111-1"></span><span class="anchor" id="line-112-1"></span><span class="anchor" id="line-113-1"></span><span class="anchor" id="line-114-1"></span><span class="anchor" id="line-115-1"></span><span class="anchor" id="line-116-1"></span></p><pre><span class="anchor" id="line-1-18"></span>$ bin/hello 
<span class="anchor" id="line-2-11"></span>Traceback (most recent call last):
<span class="anchor" id="line-3-9"></span>  File "bin/hello", line 3, in &lt;module&gt;
<span class="anchor" id="line-4-9"></span>    import tutorial_package.hello
<span class="anchor" id="line-5-9"></span>ImportError: No module named tutorial_package.hello</pre><span class="anchor" id="line-117-1"></span><span class="anchor" id="line-118-1"></span><p class="line862">One way to quickly fix this would be to change your <tt class="backtick">PYTHONPATH</tt>, but that would only work for you. In order to make this work generally, you need to define an installation procedure that moves the files into the <tt class="backtick">PYTHONPATH</tt>. <span class="anchor" id="line-119-1"></span><span class="anchor" id="line-120-1"></span></p><p class="line862">For python packages and scripts, catkin provides a cmake macro that gets this information from a file called <tt class="backtick">setup.py</tt>. <span class="anchor" id="line-121-1"></span><span class="anchor" id="line-122-1"></span></p><p class="line862">So create a file called <tt class="backtick">setup.py</tt> with these contents in the root of the <tt class="backtick">my_pkg</tt> project: <span class="anchor" id="line-123-1"></span><span class="anchor" id="line-124-1"></span><span class="anchor" id="line-125-1"></span><span class="anchor" id="line-126-1"></span><span class="anchor" id="line-127-1"></span><span class="anchor" id="line-128-1"></span><span class="anchor" id="line-129-1"></span><span class="anchor" id="line-130-1"></span><span class="anchor" id="line-131-1"></span><span class="anchor" id="line-132-1"></span><span class="anchor" id="line-133-1"></span><span class="anchor" id="line-134-1"></span><span class="anchor" id="line-135-1"></span><span class="anchor" id="line-136-1"></span><span class="anchor" id="line-137-1"></span><span class="anchor" id="line-1-19"></span></p><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#" onclick="return togglenumber(&#39;CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_1">   1</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_1"></span><span class="anchor" id="line-1-20"></span><span class="Comment">## ! DO NOT MANUALLY INVOKE THIS setup.py, USE CATKIN INSTEAD</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_2">   2</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_2"></span><span class="anchor" id="line-2-12"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_3">   3</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_3"></span><span class="anchor" id="line-3-10"></span><span class="ResWord">from</span> <span class="ID">distutils.core</span> <span class="ResWord">import</span> <span class="ID">setup</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_4">   4</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_4"></span><span class="anchor" id="line-4-10"></span><span class="ResWord">from</span> <span class="ID">catkin_pkg.python_setup</span> <span class="ResWord">import</span> <span class="ID">generate_distutils_setup</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_5">   5</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_5"></span><span class="anchor" id="line-5-10"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_6">   6</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_6"></span><span class="anchor" id="line-6-7"></span><span class="Comment"># fetch values from package.xml</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_7">   7</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_7"></span><span class="anchor" id="line-7-6"></span><span class="ID">setup_args</span> = <span class="ID">generate_distutils_setup</span>(</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_8">   8</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_8"></span><span class="anchor" id="line-8-5"></span>    <span class="ID">packages</span>=[<span class="String">'</span><span class="String">tutorial_package</span><span class="String">'</span>],</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_9">   9</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_9"></span><span class="anchor" id="line-9-5"></span>    <span class="ID">package_dir</span>={<span class="String">'</span><span class="String">'</span>: <span class="String">'</span><span class="String">src</span><span class="String">'</span>},</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_10">  10</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_10"></span><span class="anchor" id="line-10-5"></span>)</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_11">  11</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_11"></span><span class="anchor" id="line-11-5"></span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Makefile#CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_12">  12</a> </span><span class="LineAnchor" id="CA-79ddf7579c2a9d9c4f53ae1535d9c6e63198e783_12"></span><span class="anchor" id="line-12-5"></span><span class="ID">setup</span>(**<span class="ID">setup_args</span>)</span>
</pre></div></div><span class="anchor" id="line-138-1"></span><p class="line874">Remember this: The setup.py is for catkin to use, and not for users to invoke. catkin will make sure setup.py installs files to the right location. If you invoke setup.py manually, you may break your ROS installation. <span class="anchor" id="line-139-1"></span><span class="anchor" id="line-140-1"></span></p><p class="line874">The first line shows we will be using distutils (setuptools is not recommended since it generates files into your src folder). <span class="anchor" id="line-141-1"></span><span class="anchor" id="line-142-1"></span></p><p class="line862">Then we use a function <tt class="backtick">generate_distutils_setup</tt> to read out values from the package.xml, and also perform some convenience transformations, such as nicely listing all maintainers and authors in the package.xml. <span class="anchor" id="line-143-1"></span><span class="anchor" id="line-144-1"></span></p><p class="line874">So all we additionally have to provide is the information that is not in the package.xml, the name of the scripts you want to have installed, the name of the python packages, where to find those packages, and python package dependencies (Those can have different names than what we use in the package.xml, so we need a separate list). <span class="anchor" id="line-145-1"></span><span class="anchor" id="line-146-1"></span></p><p class="line874">In order for our setup.py to be used by catkin, we also need to uncomment this line in the CMakeLists.txt: <span class="anchor" id="line-147-1"></span><span class="anchor" id="line-148-1"></span><span class="anchor" id="line-149-1"></span><span class="anchor" id="line-150-1"></span></p><pre><span class="anchor" id="line-1-21"></span>## Uncomment if the package has a setup.py
<span class="anchor" id="line-2-13"></span>catkin_python_setup()</pre><span class="anchor" id="line-151-1"></span><span class="anchor" id="line-152-1"></span><p class="line874">Finally, for our script to be installed to the right location, if users install your package, this line is required in CMakeLists.txt: <span class="anchor" id="line-153-1"></span><span class="anchor" id="line-154-1"></span><span class="anchor" id="line-155-1"></span><span class="anchor" id="line-156-1"></span></p><pre><span class="anchor" id="line-1-22"></span>catkin_install_python(PROGRAMS bin/hello
<span class="anchor" id="line-2-14"></span>  DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION})</pre><span class="anchor" id="line-157-1"></span><span class="anchor" id="line-158-1"></span><p class="line874">Now we can build our package: <span class="anchor" id="line-159-1"></span><span class="anchor" id="line-160-1"></span><span class="anchor" id="line-161-1"></span><span class="anchor" id="line-162-1"></span></p><pre><span class="anchor" id="line-1-23"></span>$ cd ~/catkin_ws
<span class="anchor" id="line-2-15"></span>$ catkin_make</pre><span class="anchor" id="line-163-1"></span><span class="anchor" id="line-164-1"></span><p class="line874">To setup the environment to include the new devel space: <span class="anchor" id="line-165-1"></span><span class="anchor" id="line-166-1"></span><span class="anchor" id="line-167-1"></span></p><pre><span class="anchor" id="line-1-24"></span>$ . devel/setup.bash</pre><span class="anchor" id="line-168-1"></span><span class="anchor" id="line-169-1"></span><p class="line874">Now your scripts and modules are available via rosrun, and will also be available If other people install your package. <span class="anchor" id="line-170-1"></span><span class="anchor" id="line-171-1"></span></p><p class="line867"><span class="anchor" id="line-172-1"></span><span class="anchor" id="line-173-1"></span><span class="anchor" id="line-174-1"></span></p><pre><span class="anchor" id="line-1-25"></span>$ rosrun my_pkg hello 
<span class="anchor" id="line-2-16"></span>Hello my friend!</pre><span class="anchor" id="line-175-1"></span></div><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><p class="line862">Also refer to <a href="http://wiki.ros.org/ROS/Tutorials/CreatingMsgAndSrv">ROS/Tutorials/CreatingMsgAndSrv</a> for making <tt class="backtick">message</tt> and <tt class="backtick">service</tt>. <span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span></p><p class="line862">Next tutorial: <a href="http://wiki.ros.org/rospy_tutorials/Tutorials/PythonPath">Setting Up Your PYTHONPATH</a>. <span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span></p><p class="line867"><span class="anchor" id="line-260"></span></p><p class="line867"><span class="anchor" id="line-261"></span></p><p class="line867"><span class="anchor" id="line-262"></span><span class="anchor" id="bottom"></span></p></div></div>
<div id="pagebottom"></div>
</div>

<p id="pageinfo" class="info" lang="en" dir="ltr">Wiki: rospy_tutorials/Tutorials/Makefile  (last edited 2015-08-04 16:23:20 by <span title="EdVenator @ ironport89.swri.org[129.162.1.212]"><a class="nonexistent" href="http://wiki.ros.org/EdVenator" title="EdVenator @ ironport89.swri.org[129.162.1.212]">EdVenator</a></span>)</p>




<div style="margin-top: 9px;" class="footer">
Except where otherwise noted, the ROS wiki is licensed under the <br><a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a> | <a href="https://plus.google.com/113789706402978299308" rel="publisher">Find us on Google+</a>
<hr style="margin-top: 10px;">
<div class="row">
  <div class="col-md-4 col-md-offset-4">
<a href="http://www.osrfoundation.org/"><img style="margin-top: -1px;" src="./rospy_tutorials_Tutorials_Makefile - ROS Wiki_files/brought_by_horiz.png"><p></p></a>
  </div>
</div>
</div>

  </div> <!-- /#dpage-inner, /#dpage -->





</body></html>